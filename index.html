<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RS-232 Controller</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">


    <!-- ajax-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!--    icons-->
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <!-- <script src='https://kit.fontawesome.com/a076d05399.js'></script> -->
{#    <script type="text/javascript"> (function() { var css = document.createElement('link'); css.href = 'https://use.fontawesome.com/releases/v5.1.0/css/all.css'; css.rel = 'stylesheet'; css.type = 'text/css'; document.getElementsByTagName('head')[0].appendChild(css); })(); </script>#}



{#    <link rel="stylesheet" href="{% static 'microimprocessing/main.css' %}" type="text/css" />#}
    <script>
        // Slider
        function updateSlider(slideAmount)
            {
                alert("error");

                var sliderDiv = document.getElementById("slider1");
                sliderDiv.innerHTML = slideAmount;
                fetch("http://127.0.0.1:5000/send_message")
                  .then(response => {
                      return response.json();
                  })
                  .then(response_json => {
                      console.log(response_json)
                      }
                  )
                console.log("ahoj")
                const xhr = new XMLHttpRequest();
                    sender = JSON.stringify([
                   [1, 2, 3],
                   [4, 5, 6],
                   [7, 8, 9]
                ])
                xhr.open('POST', "http://127.0.0.1:5000/send_message");
                xhr.send(sender);
                // fetch('http://localhost:8088/api/login', {
                //     username: authData.username,
                //     password: authData.password
                // }, {
                //     mode: 'no-cors',
                //     method: 'post',
                //     url: `http://localhost:8088`,
                //     credentials: 'include'
                // })

                async () => {

                    // data = {
                    //     "id": 0,
                    //     "message"
                    // }

                    const response = await fetch('http://127.0.0.1:5000/send_message', {method: "POST"});
                    const myJson = await response.json(); //extract JSON from the http response
                    console.log("konstanty nastaveny")
                    // do something with myJson
                }
                console.log("za asyncem")

            }
        function createMessage(slider_id, )
            {
                message = "SET"

        }
    </script>
    </head>
<body>

<div class="slidecontainer">
  <input type="range" min="1" max="100" value="50" class="slider" orient="vertical" id="slider1" onchange="updateSlider(this.value)">
</div>


<div class="range-slider">
    <input class="input-range" orient="vertical" type="range" step="0.5" value="5" min="1" max="10">
    <span class="range-value"></span>
</div>
</body>
</html>